<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_0ohoyns" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.20.0" modeler:executionPlatform="Camunda Platform" modeler:executionPlatformVersion="7.20.0">
  <bpmn:collaboration id="Collaboration_076phny">
    <bpmn:participant id="Participant_01zozbm" name="Invoice Management" processRef="Process_0fahcbk" />
  </bpmn:collaboration>
  <bpmn:process id="Process_0fahcbk" isExecutable="true" camunda:historyTimeToLive="180">
    <bpmn:laneSet id="LaneSet_0vezd42">
      <bpmn:lane id="Lane_0zd2f98" name="Finance Department">
        <bpmn:flowNodeRef>Event_1le93ss</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_00p6moo</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1os7v2h</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1yrtm7g</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_08s3vop</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0hk9tef</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_07dt7az</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_104p67v</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1918bmb</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1mgl1it</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0z01yj3</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_11udtnl</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:sequenceFlow id="Flow_1gepxtk" sourceRef="Event_1le93ss" targetRef="Activity_00p6moo" />
    <bpmn:sequenceFlow id="Flow_10vw54r" sourceRef="Gateway_08s3vop" targetRef="Activity_0hk9tef">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${!approved}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1itynwe" sourceRef="Activity_1os7v2h" targetRef="Gateway_08s3vop">
      <bpmn:extensionElements />
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1sc64w8" sourceRef="Activity_00p6moo" targetRef="Activity_1os7v2h" />
    <bpmn:sequenceFlow id="Flow_0l219so" sourceRef="Gateway_08s3vop" targetRef="Activity_0z01yj3" />
    <bpmn:sequenceFlow id="Flow_172xvkd" sourceRef="Activity_07dt7az" targetRef="Event_1yrtm7g" />
    <bpmn:startEvent id="Event_1le93ss" name="2nd day of Month">
      <bpmn:outgoing>Flow_1gepxtk</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_0qd07pv">
        <bpmn:timeCycle xsi:type="bpmn:tFormalExpression">0 0 2 * *  ?</bpmn:timeCycle>
      </bpmn:timerEventDefinition>
    </bpmn:startEvent>
    <bpmn:serviceTask id="Activity_00p6moo" name="Load Invoices" camunda:modelerTemplate="onl.mrtn.camunda.http.api_connect" camunda:modelerTemplateVersion="2" camunda:delegateExpression="${api_connect}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="api_connect_api_variables" />
          <camunda:inputParameter name="api_connect_result_variables" />
        </camunda:inputOutput>
        <camunda:field name="api_connect_url">
          <camunda:string>https://hook.eu2.make.com/ombbumv1wvw8agnwjil546da5cagiba5</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_authorization">
          <camunda:string>None</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_api_variables">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_result_variables">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_result_variable">
          <camunda:string>None</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_verbosity_outgoing">
          <camunda:string>plain</camunda:string>
        </camunda:field>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1gepxtk</bpmn:incoming>
      <bpmn:outgoing>Flow_1sc64w8</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Activity_1os7v2h" name="Validate Invoice">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="approved" label="Invoice Approved" type="boolean" defaultValue="false" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1sc64w8</bpmn:incoming>
      <bpmn:outgoing>Flow_1itynwe</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0sjybni" sourceRef="Activity_0z01yj3" targetRef="Activity_11udtnl" />
    <bpmn:sequenceFlow id="Flow_0f0m6sl" sourceRef="Activity_11udtnl" targetRef="Activity_07dt7az" />
    <bpmn:endEvent id="Event_1yrtm7g">
      <bpmn:incoming>Flow_172xvkd</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_06ykv1b" sourceRef="Activity_0hk9tef" targetRef="Activity_104p67v" />
    <bpmn:sequenceFlow id="Flow_0x2if1i" sourceRef="Activity_104p67v" targetRef="Activity_1918bmb" />
    <bpmn:sequenceFlow id="Flow_0ju7jti" sourceRef="Activity_1918bmb" targetRef="Event_1mgl1it" />
    <bpmn:exclusiveGateway id="Gateway_08s3vop" name="Review Invoice" default="Flow_0l219so">
      <bpmn:extensionElements />
      <bpmn:incoming>Flow_1itynwe</bpmn:incoming>
      <bpmn:outgoing>Flow_10vw54r</bpmn:outgoing>
      <bpmn:outgoing>Flow_0l219so</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="Activity_0hk9tef" name="Move to error folder" camunda:modelerTemplate="onl.mrtn.camunda.http.api_connect" camunda:modelerTemplateVersion="2" camunda:delegateExpression="${api_connect}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="api_connect_api_variables" />
          <camunda:inputParameter name="api_connect_result_variables" />
        </camunda:inputOutput>
        <camunda:field name="api_connect_url">
          <camunda:string>https://hook.eu2.make.com/ss2yrimoa77qoiq5h9ffiyg7p93uem71</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_authorization">
          <camunda:string>None</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_api_variables">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_result_variables">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_result_variable">
          <camunda:string>None</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_verbosity_outgoing">
          <camunda:string>plain</camunda:string>
        </camunda:field>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_10vw54r</bpmn:incoming>
      <bpmn:outgoing>Flow_06ykv1b</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_07dt7az" name="Update Invoice Records" camunda:modelerTemplate="onl.mrtn.camunda.http.api_connect" camunda:modelerTemplateVersion="2" camunda:delegateExpression="${api_connect}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="api_connect_api_variables" />
          <camunda:inputParameter name="api_connect_result_variables" />
        </camunda:inputOutput>
        <camunda:field name="api_connect_url">
          <camunda:string>https://hook.eu2.make.com/55y6bnvt3rofd39bphgijyzpyuxzsv1p</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_authorization">
          <camunda:string>None</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_api_variables">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_result_variables">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_result_variable">
          <camunda:string>None</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_verbosity_outgoing">
          <camunda:string>plain</camunda:string>
        </camunda:field>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0f0m6sl</bpmn:incoming>
      <bpmn:outgoing>Flow_172xvkd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_104p67v" name="Update Invoice Records" camunda:modelerTemplate="onl.mrtn.camunda.http.api_connect" camunda:modelerTemplateVersion="2" camunda:delegateExpression="${api_connect}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="api_connect_api_variables" />
          <camunda:inputParameter name="api_connect_result_variables" />
        </camunda:inputOutput>
        <camunda:field name="api_connect_url">
          <camunda:string>https://hook.eu2.make.com/55y6bnvt3rofd39bphgijyzpyuxzsv1p</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_authorization">
          <camunda:string>None</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_api_variables">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_result_variables">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_result_variable">
          <camunda:string>None</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_verbosity_outgoing">
          <camunda:string>plain</camunda:string>
        </camunda:field>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_06ykv1b</bpmn:incoming>
      <bpmn:outgoing>Flow_0x2if1i</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1918bmb" name="Notify Accounts Manager" camunda:modelerTemplate="onl.mrtn.camunda.http.api_connect" camunda:modelerTemplateVersion="2" camunda:delegateExpression="${api_connect}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="api_connect_api_variables" />
          <camunda:inputParameter name="api_connect_result_variables" />
        </camunda:inputOutput>
        <camunda:field name="api_connect_url">
          <camunda:string>https://hook.eu2.make.com/va6d1c88pblfbhinphhc8oqe9rmxuv0m</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_authorization">
          <camunda:string>None</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_api_variables">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_result_variables">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_result_variable">
          <camunda:string>None</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_verbosity_outgoing">
          <camunda:string>plain</camunda:string>
        </camunda:field>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0x2if1i</bpmn:incoming>
      <bpmn:outgoing>Flow_0ju7jti</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="Event_1mgl1it">
      <bpmn:incoming>Flow_0ju7jti</bpmn:incoming>
      <bpmn:messageEventDefinition id="MessageEventDefinition_17brtft" />
    </bpmn:endEvent>
    <bpmn:serviceTask id="Activity_0z01yj3" name="Send Invoice to Client" camunda:modelerTemplate="onl.mrtn.camunda.http.api_connect" camunda:modelerTemplateVersion="2" camunda:delegateExpression="${api_connect}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="api_connect_api_variables" />
          <camunda:inputParameter name="api_connect_result_variables" />
        </camunda:inputOutput>
        <camunda:field name="api_connect_url">
          <camunda:string>https://hook.eu2.make.com/6bz2t8nt0g1enrskgyfcewmji84ms1z3</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_authorization">
          <camunda:string>None</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_api_variables">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_result_variables">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_result_variable">
          <camunda:string>None</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_verbosity_outgoing">
          <camunda:string>plain</camunda:string>
        </camunda:field>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0l219so</bpmn:incoming>
      <bpmn:outgoing>Flow_0sjybni</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_11udtnl" name="Move to Processed Folder" camunda:modelerTemplate="onl.mrtn.camunda.http.api_connect" camunda:modelerTemplateVersion="2" camunda:delegateExpression="${api_connect}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="api_connect_api_variables" />
          <camunda:inputParameter name="api_connect_result_variables" />
        </camunda:inputOutput>
        <camunda:field name="api_connect_url">
          <camunda:string>https://hook.eu2.make.com/q71j1v6lretuygg44ibybe5hbbn39m7v</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_authorization">
          <camunda:string>None</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_api_variables">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_result_variables">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_result_variable">
          <camunda:string>None</camunda:string>
        </camunda:field>
        <camunda:field name="api_connect_verbosity_outgoing">
          <camunda:string>plain</camunda:string>
        </camunda:field>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0sjybni</bpmn:incoming>
      <bpmn:outgoing>Flow_0f0m6sl</bpmn:outgoing>
    </bpmn:serviceTask>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_076phny">
      <bpmndi:BPMNShape id="Participant_01zozbm_di" bpmnElement="Participant_01zozbm" isHorizontal="true">
        <dc:Bounds x="155" y="80" width="1615" height="720" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0zd2f98_di" bpmnElement="Lane_0zd2f98" isHorizontal="true">
        <dc:Bounds x="185" y="80" width="1585" height="720" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_02cx3la_di" bpmnElement="Event_1le93ss">
        <dc:Bounds x="302" y="362" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="278" y="405" width="86" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_012m8g8_di" bpmnElement="Activity_00p6moo">
        <dc:Bounds x="470" y="340" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0p506pj_di" bpmnElement="Activity_1os7v2h">
        <dc:Bounds x="640" y="340" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1yrtm7g_di" bpmnElement="Event_1yrtm7g">
        <dc:Bounds x="1662" y="362" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_08s3vop_di" bpmnElement="Gateway_08s3vop" isMarkerVisible="true">
        <dc:Bounds x="875" y="355" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="864" y="331" width="74" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_14vaevi_di" bpmnElement="Activity_0hk9tef">
        <dc:Bounds x="850" y="500" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0utpc05_di" bpmnElement="Activity_07dt7az">
        <dc:Bounds x="1510" y="340" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1a56507_di" bpmnElement="Activity_104p67v">
        <dc:Bounds x="1060" y="500" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0gcqirx_di" bpmnElement="Activity_1918bmb">
        <dc:Bounds x="1210" y="500" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0wkjoxd_di" bpmnElement="Event_1mgl1it">
        <dc:Bounds x="1382" y="522" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1iie6am_di" bpmnElement="Activity_0z01yj3">
        <dc:Bounds x="1120" y="340" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_18nsk8i_di" bpmnElement="Activity_11udtnl">
        <dc:Bounds x="1310" y="340" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1gepxtk_di" bpmnElement="Flow_1gepxtk">
        <di:waypoint x="338" y="380" />
        <di:waypoint x="470" y="380" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10vw54r_di" bpmnElement="Flow_10vw54r">
        <di:waypoint x="900" y="405" />
        <di:waypoint x="900" y="500" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1itynwe_di" bpmnElement="Flow_1itynwe">
        <di:waypoint x="740" y="380" />
        <di:waypoint x="875" y="380" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1sc64w8_di" bpmnElement="Flow_1sc64w8">
        <di:waypoint x="570" y="380" />
        <di:waypoint x="640" y="380" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0l219so_di" bpmnElement="Flow_0l219so">
        <di:waypoint x="925" y="380" />
        <di:waypoint x="1120" y="380" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_172xvkd_di" bpmnElement="Flow_172xvkd">
        <di:waypoint x="1610" y="380" />
        <di:waypoint x="1662" y="380" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0sjybni_di" bpmnElement="Flow_0sjybni">
        <di:waypoint x="1220" y="380" />
        <di:waypoint x="1310" y="380" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0f0m6sl_di" bpmnElement="Flow_0f0m6sl">
        <di:waypoint x="1410" y="380" />
        <di:waypoint x="1510" y="380" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06ykv1b_di" bpmnElement="Flow_06ykv1b">
        <di:waypoint x="950" y="540" />
        <di:waypoint x="1060" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0x2if1i_di" bpmnElement="Flow_0x2if1i">
        <di:waypoint x="1160" y="540" />
        <di:waypoint x="1210" y="540" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ju7jti_di" bpmnElement="Flow_0ju7jti">
        <di:waypoint x="1310" y="540" />
        <di:waypoint x="1382" y="540" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
